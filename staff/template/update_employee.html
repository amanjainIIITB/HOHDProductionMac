<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Welcome</title>
    </head>
    <script>
        function setDate(date, id){
            var d = new Date(date);
            var day = d.getDate();
            if(day<=9)
                day = '0'+day;
            var month = d.getMonth()+1;
            if(month<=9)
                month = '0'+month;
            document.getElementById(id).value = d.getFullYear()+"-"+month+"-"+day;
        }
        function onload_behaviour(){
            set_menubar_items();
            setDate("{{employee.DOB}}", "DOB");
            setDate("{{employee.date_of_joining}}", "date_of_joining");
        }
    </script>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/menubar.css' %}">
    <style>
        .transaction{
            width:180px;
            text-align:center;
        }
        th, td {
            width:150px;
            height:40px;
        }
    </style>
    <body onload="onload_behaviour()">

        {% if messages %}
            <script>
                {% for message in messages %}
                    alert("{{ message }}");
                {% endfor %}
            </script>
        {% endif %}
        {% include 'menubar.html' with active_menubar_item="NA" %}
        <h1>Update Employee Record</h1>
        <form method="post" action="/staff/update_employee/{{employee.EmployeeID}}/">
            {% csrf_token %}
            <table>
                <tr>
                    <td>
                        <label for="name">Name</label>
                    </td>
                    <td>
                        <input type="text" id="name" name="name" value="{{employee.name}}">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="contact_number">Contact Number</label>
                    </td>
                    <td>
                        <input type="text" id="contact_number" name="contact_number" value="{{employee.contact_number}}">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="sex">Sex</label>
                    </td>
                    <td>
                        <select id="sex" name="sex" value="{{employee.sex}}">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="age">Age</label>
                    </td>
                    <td>
                        <input type="text" id="age" name="age" value="{{employee.age}}">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="date_of_joining">Date of Joining</label>
                    </td>
                    <td>
                        <input type="date" id="date_of_joining" name="date_of_joining">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="DOB">Date of Birth</label>
                    </td>
                    <td>
                        <input type="date" id="DOB" name="DOB">
                    </td>
                </tr> 
                <tr>
                    <td>
                        <label for="temporary_address">Temporary Address</label>
                    </td>
                    <td>
                        <input type="text" id="temporary_address" name="temporary_address" value="{{employee.temporary_address}}">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="permanent_address">Permanent Address</label>
                    </td>
                    <td>
                        <input type="text" id="permanent_address" name="permanent_address" value="{{employee.permanent_address}}">
                    </td>
                </tr>
            </table>
            <input type="submit" value="Submit">
        </form>
    </body>
</html>
